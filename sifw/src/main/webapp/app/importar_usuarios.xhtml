<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="jakarta.faces.html"
	xmlns:f="jakarta.faces.core"
	xmlns:ui="jakarta.faces.facelets"
	xmlns:p="http://primefaces.org/ui" template="/public/_template.xhtml">


	<ui:define name="header">
		<ui:include src="/app/header.xhtml" />
	</ui:define>

	<ui:define name="nav">
		<ui:include src="/app/nav.xhtml" />
	</ui:define>

	<ui:define name="main">

		<h:form id="frmMain" enctype="multipart/form-data">
			<p:growl showDetail="true" showSummary="true">
				<p:autoUpdate></p:autoUpdate>
			</p:growl>
			
			<p:breadCrumb model="#{importarUsuariosBean.breadCrumb.model}"  id="breadcrumb">
				<p:autoUpdate />
			</p:breadCrumb>	

			<p:outputPanel>
				<p:panel header="Busca de usuários" rendered="#{importarUsuariosBean.rendSeleciona}">
					<div class="ui-fluid formgrid grid">
						<div class="field col-6 md:col-6">
							<label>Importar usuários:</label>
						</div>
						<div class="field col-6 md:col-6">
							<p:selectOneMenu value="#{importarUsuariosBean.tipoimportacao}" converter="omnifaces.SelectItemsConverter">
								<f:selectItems value="#{importarUsuariosBean.listSelectIten}" var ="l" />
								<p:ajax event="change" listener="#{importarUsuariosBean.eventChange}"  update="frmMain otpEnviaCSV"/>
							</p:selectOneMenu>
						</div>
					</div>
				</p:panel>
			</p:outputPanel>

			<p:outputPanel rendered="#{importarUsuariosBean.rendConfigTypeCSV}">

				<p:commandButton action="#{importarUsuariosBean.telaConfigTipoImportacao}" label="ds">
					<p:ajax event="dialogReturn" listener="#{importarUsuariosBean.importarUsuarios.onConfig}"/>
				</p:commandButton>

			</p:outputPanel>

			<p:fragment  rendered="false">
				<p:outputPanel id="itaSaida">
					<h:outputText value="#{importarUsuariosBean.saidaTextoImportUser}" escape="false" style="    font-family: 'Courier New', monospace !important;"/>
				</p:outputPanel>
				<p:poll interval="2" update="frmMain:itaSaida" />
			</p:fragment>
		</h:form>

	</ui:define>
</ui:composition>
